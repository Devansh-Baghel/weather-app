(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))y(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&y(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function y(o){if(o.ep)return;o.ep=!0;const a=i(o);fetch(o.href,a)}})();const L=async t=>await(await fetch(`http://api.weatherapi.com/v1/forecast.json?key=48df9710e82d465da64214434232006&q=${t}&days=4`,{mode:"cors"})).json(),u={getIp:async()=>(await(await fetch("http://api.weatherapi.com/v1/ip.json?key=48df9710e82d465da64214434232006&q=auto:ip",{mode:"cors"})).json()).ip,getWeather:async()=>{const t=await u.getIp();return await(await fetch(`http://api.weatherapi.com/v1/forecast.json?key=48df9710e82d465da64214434232006&q=${t}&days=4`,{mode:"cors"})).json()}};await u.getWeather();const c=document.querySelector("body"),f=document.querySelector("#location-text"),C=document.querySelector("#date-text"),m=document.querySelector("#condition-img"),p=document.querySelector("#temprature"),l=document.querySelector("#condition-text"),h=document.querySelector("#rain-value"),T=document.querySelector("#wind-value"),x=document.querySelector("#humidity-value"),g=document.querySelector("#forecast-1-day"),v=document.querySelector("#forecast-2-day"),S=document.querySelector("#forecast-3-day"),q=document.querySelector("#forecast-4-day"),w=document.querySelector("#forecast-1-temp"),$=document.querySelector("#forecast-2-temp"),D=document.querySelector("#forecast-3-temp"),_=document.querySelector("#forecast-4-temp"),r=await u.getWeather(),n={updateDisplayFromIp:()=>{f.innerHTML=`${r.location.name},<br>${r.location.country}`;let t=new Date;t=t.toDateString(),t=t.slice(0,10),C.innerText=t,m.src=r.current.condition.icon,p.innerHTML=`${r.current.temp_c}<sup>°C</sup>`,l.innerText=r.current.condition.text,h.innerText=`${r.current.precip_mm}mm`,T.innerText=`${r.current.wind_kph}km/h`,x.innerText=`${r.current.humidity}%`,g.innerText=r.forecast.forecastday[0].date,v.innerText=r.forecast.forecastday[1].date,S.innerText=r.forecast.forecastday[2].date,q.innerText=r.forecast.forecastday[3].date,w.innerText=`${r.forecast.forecastday[0].day.avgtemp_c} °C`,$.innerText=`${r.forecast.forecastday[1].day.avgtemp_c} °C`,D.innerText=`${r.forecast.forecastday[2].day.avgtemp_c} °C`,_.innerText=`${r.forecast.forecastday[3].day.avgtemp_c} °C`,n.updateDayNight(r.current.is_day)},updateDisplayFromSearch:async t=>{const e=await L(t);f.innerHTML=`${e.location.name},<br>${e.location.country}`,m.src=e.current.condition.icon,p.innerHTML=`${e.current.temp_c}<sup>°C</sup>`,l.innerText=e.current.condition.text,h.innerText=`${e.current.precip_mm}mm`,T.innerText=`${e.current.wind_kph}km/h`,x.innerText=`${e.current.humidity}%`,n.updateDayNight(e.current.is_day),g.innerText=e.forecast.forecastday[0].date,v.innerText=e.forecast.forecastday[1].date,S.innerText=e.forecast.forecastday[2].date,q.innerText=e.forecast.forecastday[3].date,w.innerText=`${e.forecast.forecastday[0].day.avgtemp_c} °C`,$.innerText=`${e.forecast.forecastday[1].day.avgtemp_c} °C`,D.innerText=`${e.forecast.forecastday[2].day.avgtemp_c} °C`,_.innerText=`${e.forecast.forecastday[3].day.avgtemp_c} °C`},updateDayNight:t=>{t===1?(c.classList.remove("night"),c.classList.add("day")):(c.classList.remove("day"),c.classList.add("night"))}},F=document.querySelector("#search-form"),s=document.querySelector("#search-input");n.updateDisplayFromIp();s.focus();window.addEventListener("keypress",t=>{t.key==="/"&&(t.preventDefault(),s.focus())});F.addEventListener("submit",t=>{t.preventDefault(),s.value!==""&&n.updateDisplayFromSearch(s.value)});
